%%% This file contains definitions of various useful macros and environments %%%
%%% Please add more macros here instead of cluttering other files with them. %%%

%%% Minor tweaks of style

% These macros employ a little dirty trick to convince LaTeX to typeset
% chapter headings sanely, without lots of empty space above them.
% Feel free to ignore.
\makeatletter
\def\@makechapterhead#1{
  {\parindent \z@ \raggedright \normalfont
   \Huge\bfseries \thechapter. #1
   \par\nobreak
   \vskip 20\p@
}}
\def\@makeschapterhead#1{
  {\parindent \z@ \raggedright \normalfont
   \Huge\bfseries #1
   \par\nobreak
   \vskip 20\p@
}}
\makeatother

% This macro defines a chapter, which is not numbered, but is included
% in the table of contents.
\def\chapwithtoc#1{
\chapter*{#1}
\addcontentsline{toc}{chapter}{#1}
}

% Draw black "slugs" whenever a line overflows, so that we can spot it easily.
\overfullrule=1mm

%%% Macros for definitions, theorems, claims, examples, ... (requires amsthm package)

%\theoremstyle{plain}
%\newtheorem{thm}{Theorem}
%\newtheorem{lemma}[thm]{Lemma}
%\newtheorem{claim}[thm]{Claim}
%
%\theoremstyle{plain}
%\newtheorem{defn}{Definition}
%
%\theoremstyle{remark}
%\newtheorem*{cor}{Corollary}
%\newtheorem*{rem}{Remark}
%\newtheorem*{example}{Example}

%%% An environment for proofs

%%% FIXME %%% \newenvironment{proof}{
%%% FIXME %%%   \par\medskip\noindent
%%% FIXME %%%   \textit{Proof}.
%%% FIXME %%% }{
%%% FIXME %%% \newline
%%% FIXME %%% \rightline{$\square$}  % or \SquareCastShadowBottomRight from bbding package
%%% FIXME %%% }

%%% An environment for typesetting of program code and input/output
%%% of programs. (Requires the fancyvrb package -- fancy verbatim.)

\DefineVerbatimEnvironment{code}{Verbatim}{fontsize=\small, frame=single}

%%% The field of all real and natural numbers
%\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}

%%% Useful operators for statistics and probability
\DeclareMathOperator{\pr}{\textsf{P}}
\DeclareMathOperator{\E}{\textsf{E}\,}
\DeclareMathOperator{\var}{\textrm{var}}
\DeclareMathOperator{\sd}{\textrm{sd}}

%%% Transposition of a vector/matrix
\newcommand{\T}[1]{#1^\top}

%%% Various math goodies
\newcommand{\goto}{\rightarrow}
\newcommand{\gotop}{\stackrel{P}{\longrightarrow}}
\newcommand{\maon}[1]{o(n^{#1})}
\newcommand{\abs}[1]{\left|{#1}\right|}
\newcommand{\dint}{\int_0^\tau\!\!\int_0^\tau}
\newcommand{\isqr}[1]{\frac{1}{\sqrt{#1}}}

%%% Various table goodies
\newcommand{\pulrad}[1]{\raisebox{1.5ex}[0pt]{#1}}
\newcommand{\mc}[1]{\multicolumn{1}{c}{#1}}

%%-- My stuff

\usepackage{amsmath,amsfonts,amsthm}
\usepackage{mathtools,bm}
\usepackage{listings,color}
\usepackage{tikz,float}
\usetikzlibrary{arrows,snakes,backgrounds}

\input{listingcommands.tex}

\renewcommand{\vec}[1]{\mathbf{#1}}
\newcommand{\set}[1]{\left\{#1\right\}}
\DeclareMathOperator{\cone}{cone}
\DeclareMathOperator{\conv}{conv}
\newcommand{\ip}[2]{\left\langle #1, #2 \right\rangle}

%special letters
\newcommand{\R}{\mathbb{R}}
\newcommand{\0}{\vec{0}}
\newcommand{\1}{\vec{1}}
\renewcommand{\r}{\vec{r}}
\renewcommand{\u}{\vec{u}}
\newcommand{\x}{\vec{x}}
\newcommand{\y}{\vec{y}}
\newcommand{\z}{\vec{z}}
\newcommand{\e}{\vec{e}}
\newcommand{\w}{\vec{w}}
\renewcommand{\t}{\vec{t}}
\renewcommand{\v}{\vec{v}}
\renewcommand{\b}{\vec{b}}
\newcommand{\faij}{\forall i\in P,\forall j \in N}
\newcommand{\blam}{\bm{\lambda}}

%symbols
\newcommand{\st}{\;|\;}
\newcommand{\St}{\;\Big|\;}

%constants
\newcommand{\Udim}{p}
\newcommand{\Vdim}{n}
\newcommand{\Adim}{m}
\newcommand{\mspaceA}{\R^{{\Adim}\times d}}
\newcommand{\mspaceB}{\R^{m_1\times (d+\Udim)}}
\newcommand{\mspaceC}{\R^{m_2\times (d+\Udim)}}

%matrices and vectors with domain
\newcommand{\bv}{\b \in \R^{\Adim}}
\newcommand{\tv}{\t \in \R^{\Udim}}
\renewcommand{\l}{\bm{\lambda}}
\newcommand{\lv}{\l \in \R^{\Vdim}}
\newcommand{\yv}{\y \in \R^{d+1}}
\newcommand{\xv}{\x \in \R^d}
\newcommand{\mV}{V \in \R^{d\times \Vdim}}
\newcommand{\mU}{U \in \R^{d\times \Udim}}
\newcommand{\mA}{A \in \mspaceA}
\newcommand{\mB}{B \in \mspaceB}
\newcommand{\mC}{B' \in \mspaceC}
\newcommand{\xt}{\begin{pmatrix*}\x\\ \t\end{pmatrix*}}
\newcommand{\xw}{\begin{pmatrix*}\x\\ \w\end{pmatrix*}}
\newcommand{\xAx}{\begin{pmatrix*}\x\\ A\x\end{pmatrix*}}
\newcommand{\xz}{\begin{pmatrix*}\x\\ \0\end{pmatrix*}}
\newcommand{\xx}{\begin{pmatrix*}x_0\\ \x\end{pmatrix*}}
\newcommand{\onex}{\begin{pmatrix*} 1\\ \x\end{pmatrix*}}
\newcommand{\zw}{\begin{pmatrix*}\0\\ \w\end{pmatrix*}}
\newcommand{\eAj}{\begin{pmatrix*}\e_j\\ A^j\end{pmatrix*}}
\newcommand{\neAj}{\begin{pmatrix*}[r]-\e_j\\ -A^j\end{pmatrix*}}
\newcommand{\ee}{\begin{pmatrix*} \0 \\ 1 \end{pmatrix*}}
\newcommand{\zei}{\begin{pmatrix*} \0 \\ \e_i \end{pmatrix*}}
\newcommand{\lcone}{\begin{pmatrix*} \0 & \vec{1} \\ U & V \end{pmatrix*}}
\newcommand{\xjp}{x_j^+}
\newcommand{\xjm}{x_j^-}
\newcommand{\Yi}{Y^i_{k}}
\newcommand{\Yj}{Y^j_{k}}
\newcommand{\Yl}{Y^l_{k}}
\newcommand{\Uiz}{U^i_{0}}
\newcommand{\Ujz}{U^j_{0}}
\newcommand{\Ulz}{U^l_{0}}
\newcommand{\Bik}{B^k_i}
\newcommand{\Bjk}{B^k_j}
\newcommand{\Blk}{B^k_l}

%sums
\newcommand{\tusum}{\sum_{1\leq j \leq \Udim}t_j U^j}
\newcommand{\lvsum}{\sum_{1\leq j \leq \Vdim}\lambda_j V^j}
\newcommand{\lsum}{\sum_{1\leq j \leq \Vdim}\lambda_j}
\newcommand{\jsum}{\sum_{1\leq j \leq d}}
\newcommand{\isum}{\sum_{1\leq i \leq n}}
\newcommand{\Psum}{\sum_{i\in P}}
\newcommand{\Nsum}{\sum_{j\in N}}
\newcommand{\Zsum}{\sum_{l\in Z}}
\newcommand{\NPsum}{\sum_{\substack{i\in P \\ j\in N}}}
\newcommand{\isconv}{\lambda_j \geq 0 \lsum = 1}
\newcommand{\sumi}{\sum\nolimits_i}
\newcommand{\HC}[1]{\set{\x\st #1\x\leq\0}}
\newcommand{\HP}[2]{\set{\x\st #1\x\leq #2}}

\theoremstyle{plain}
\newtheorem{Thm}{Theorem}
\newtheorem{Prop}{Proposition}

\theoremstyle{definition}
\newtheorem{Def}{Definition}

%text macros
\newcommand{\MWT}{Minkowski-Weyl Theorem}

\newcommand{\Vlift}{(V1)}
\newcommand{\Vproj}{(V2)}
\newcommand{\Hlift}{\textit{H1}}
\newcommand{\Hint}{\textit{H2}}
\newcommand{\Hproj}{\textit{H3}}

\newcommand{\cppSourceDir}{../../cpp}
\newcommand{\smallstack}[2]{\left(\begin{smallmatrix}#1 \\ #2\end{smallmatrix}\right)}

\newcommand{\lsti}[1]{\lstinline!#1!}
\newcommand{\filename}[1]{\texttt{#1}}
\newcommand{\invariant}[1]{\textbf{invariant:}\quad#1}
\newcommand{\mli}[1]{\text{\lsti{#1}}}
\newcommand{\norm}[1]{\left|\left|#1\right|\right|}
\renewcommand{\pmb}{\begin{pmatrix*}[r]}
\newcommand{\pme}{\end{pmatrix*}}

\lstset{
  language=C++,
  backgroundcolor=\color[rgb]{.9,.9,.9},
  basicstyle=\small\tt,
  keywordstyle=\color[rgb]{0,.2,1},
  commentstyle=\color[rgb]{0,.6,.2},
  numbers=left,
  showstringspaces=false
}


